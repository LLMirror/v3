import{r as s,bM as g,K as v}from"./index-Dom6VubR.js";function y(){const n=s({page:1,size:20}),u=s([]),i=s(0),l=s({}),c=s(!0),t={};let o=()=>{};g("dataParams",l);const f=(a={})=>{l.value={...l.value,...a}},r=async a=>{try{c.value=!0,o=a;const e=await a({...n.value,...l.value});return i.value=e.total,t.callback&&typeof t.callback=="function"?(t.callback(e),e):(u.value=e.data,t.lastCallback&&typeof t.lastCallback=="function"&&t.lastCallback(e),e)}finally{c.value=!1}};return{dataParams:l,pageConfig:n,setPageConfig:(a={})=>{n.value={...n.value,...a}},dataList:u,total:i,callFun:t,tableLoading:c,setDataParams:f,initData:r,pageSearch:a=>(a&&typeof a=="object"&&f(a),n.value.page=1,r(o)),pageRefresh:()=>v().then(()=>r(o))}}export{y as U};
