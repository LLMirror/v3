import{v as h,b as s,o as g,z as b,g as _,f as y,h as d,A as V,B as D,D as T}from"./index-Dom6VubR.js";const w=Object.assign({name:"FormDate"},{__name:"FormDate",props:{modelValue:{type:String,default:""},params:{type:Object,default:()=>{}},size:{type:String,default:"default"}},emits:["update:modelValue","change"],setup(m,{emit:n}){const e=m,t=n,l=h({get(){return e.modelValue},set(a){switch(e.params.dateType){case"daterange":case"datetimerange":a?(t("update:startProp",o(e.params.valTime,a[0],0)||""),t("update:endProp",o(e.params.valTime,a[1],1)||""),t("update:modelValue",a)):(t("update:startProp",""),t("update:endProp",""),t("update:modelValue",[]));break;default:t("update:modelValue",o(e.params.valTime,a,0)||"")}}});function o(a,r,p){return p===0?a?r+" 00:00:00":r:a?r+" 23:59:59":r}function u(a){switch(a.dateType){case"datetime":case"datetimerange":return a.valueFormat||"YYYY-MM-DD HH:mm:ss";default:return a.valueFormat||"YYYY-MM-DD"}}const i=T(()=>{setTimeout(()=>{t("change",{prop:e.params.prop,value:l.value})})},1e3);return(a,r)=>{const p=s("el-date-picker"),c=s("el-form-item");return g(),b(c,{label:e.params.label,prop:e.params.prop,style:D({width:e.params.formItemWidth})},{default:_(()=>[y(p,{modelValue:d(l),"onUpdate:modelValue":r[0]||(r[0]=f=>V(l)?l.value=f:null),placeholder:e.params.placeholder||"请选择日期",size:e.size,clearable:e.params.clearable===void 0?!0:e.params.clearable,onChange:d(i),type:e.params.dateType||"date","value-format":u(e.params),"start-placeholder":e.params.startPlaceholder||"开始日期","end-placeholder":e.params.endPlaceholder||"结束日期","default-time":e.params.dateType==="datetimerange"?[new Date(2e3,1,1,0,0,0),new Date(2e3,1,1,23,59,59)]:void 0,disabled:e.params.disabled},null,8,["modelValue","placeholder","size","clearable","onChange","type","value-format","start-placeholder","end-placeholder","default-time","disabled"])]),_:1},8,["label","prop","style"])}}});export{w as default};
